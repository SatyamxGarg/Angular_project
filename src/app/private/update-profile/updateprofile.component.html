  <div class="auth-main main">
    <div class="auth-wrapper v3">
      <div class="auth-form">
        <div class="card my-5">
          <div class="card-body">
            @if (userData) {
              <form [formGroup]="updateForm">
                <div class="d-flex justify-content-between align-items-end mb-4">
                  <h3 class="mb-0">Update Profile</h3>
                </div>
                <div class="row">
                  
                  
                  <div class="col-md-6">

                     <app-input-box [id]="'firstName'" [type]="'text'" [formControlName]="'userFirstName'" [placeholder]="'Enter First Name'" [title]="'First Name'" [value]="userData.userFirstName"></app-input-box>
                     <!-- class="form-control" -->
                     @if (updateForm.get('userFirstName').hasError('required') &&
                     updateForm.get('userFirstName').touched) {
                     <span class="text-red-700 text-sm ml-1">Please Enter First Name</span>
                     }
                  </div>
                   <div class="col-md-6">
                    <app-input-box [id]="'lastName'" [type]="'text'" [formControlName]="'userLastName'" [placeholder]="'Enter Last Name'" [title]="'Last Name'"[value]="userData.user_last_name"></app-input-box>
                     @if (updateForm.get('userLastName').hasError('required') &&
                     updateForm.get('userLastName').touched) {
                     <span class="text-red-700 text-sm ml-2">Please Enter Last Name</span>
                     }

                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                  <app-input-box [id]="'emailAddress'" [type]="'number'" [formControlName]="'age'" [placeholder]="'Age'" [title]="'Age'" [value]="userData.user_age"></app-input-box>
                  @if (updateForm.get('age').hasError('required') &&
                  updateForm.get('age').touched) {
                  <span class="text-red-700 text-sm ml-2">Please enter Your Age</span>
                  }
                  </div>

                  <div class="col-md-6">
                    <app-input-box [id]="'company'" [type]="'text'" [formControlName]="'userPhone'" [placeholder]="'Phone Number'" [title]="'Phone Number'" [value]="userData.user_phone"></app-input-box>
                    @if (updateForm.get('userPhone').hasError('required') &&
                    updateForm.get('userPhone').touched) {
                    <span class="text-red-700 text-sm ml-2">Please enter Phone Number</span>
                    }
                    @if (updateForm.get('userPhone').hasError('pattern') &&
                    updateForm.get('userPhone').touched) {
                    <span class="text-red-700 text-sm ml-2">Phone Number must be of 10 digits.</span>
                    }

                    
                  </div>
                </div>
                <div class="form-group mb-3">
                  <app-select-dropdown [title]="'Gender'" [id]="'gender'" [formControlName]="'userGender'" [valueArray]="genderOptions" [selectedValue]="updateForm.value.userGender"> </app-select-dropdown>
                  @if (updateForm.get('userGender').invalid) {
                    <span>Choose please</span>
                    } 

                </div>
                <div class="row">
                  <div class="col-md-4">
                    <div class="form-group mb-3">
                      <app-select-dropdown [title]="'Choose Country'" [formControlName]="'userCountry'" [id]="'country'" [valueArray]="countryList" [selectedValue]="updateForm.value.userCountry" (onBtnClick)="changeCountryData();updateForm.patchValue({ userState: '', userCity: '' });"> </app-select-dropdown>
                      @if (updateForm.get('userCountry').hasError('required') &&
                      updateForm.get('userCountry').touched) {
                      <span class="text-red-700 text-sm ml-2">Country is required.</span>
                      }
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="form-group mb-3">

                      <app-select-dropdown [title]="'Choose State'" [formControlName]="'userState'" [id]="'state'" [valueArray]="stateData" [selectedValue]="updateForm.value.userState" (onBtnClick)="changeStateData();updateForm.patchValue({ userCity: '' })"> </app-select-dropdown>
                      @if (updateForm.get('userState').hasError('required') &&
                    updateForm.get('userState').touched) {
                     <p style="color:red; margin-left:10px;">State is required.</p>
                    }
                    </div>
                  </div>

                                  
                  <div class="col-md-4">
                    <div class="form-group mb-3">
                      <app-select-dropdown [title]="'Choose City'" [id]="'city'" [formControlName]="'userCity'" [valueArray]="cityData" [selectedValue]="updateForm.value.userCity"> </app-select-dropdown>
                      @if (updateForm.get('userCity').hasError('required') &&
                    updateForm.get('userCity').touched) {
                    <p style="color:red; margin-left:10px;">City is required.</p>
                    }
                    </div>
                  </div>
                </div>
                <div class="d-grid mt-3">
                  <app-button [title]="'Submit'" (onBtnClick)="onUpdate()" [disable]="loader"></app-button>
              
                </div>
              </form>
            }
          </div>
        </div>
      </div>
    </div>
  </div>